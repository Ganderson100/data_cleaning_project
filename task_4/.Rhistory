mutate(country = replace(country, country == "Earth", NA)) %>%
mutate(country = replace(country, country == "Pittsburgh", NA)) %>%
mutate(country = replace(country, country == "insanity lately", NA)) %>%
mutate(country = replace(country, country == "51.0", NA)) %>%
mutate(country = replace(country, country == "47.0", NA)) %>%
mutate(country = replace(country, country == "44.0", NA)) %>%
mutate(country = replace(country, country == "32", NA)) %>%
mutate(country = replace(country, country == "A", NA)) %>%
mutate(country = replace(country, country == "Korea", NA)) %>%
mutate(country = replace(country, country == "Europe", NA))
unique(candy_combined5$country)
view(candy_combined5)
# Looks like the above outlier code dosnt work.  Maybe because there are NAs and the zscores thing wont work.  I'll take a pragmatic view of the age outliers in this case and remove anyone over 75
candy_combined7 <- candy_combined5 %>%
select(age, candy_name, rating, trick_or_treating, country, gender, year) %>%
filter(age <= 120)
view (candy_combined7)
# Looks like the above outlier code dosnt work.  Maybe because there are NAs and the zscores thing wont work.  I'll take a pragmatic view of the age outliers in this case and remove anyone over 120
candy_combined7 <- candy_combined5 %>%
select(age, candy_name, rating, trick_or_treating, country, gender, year) %>%
filter(age <= 120)
view (candy_combined7)
unique(candy_combined7$age)
here::here()
write_csv(candy_combined7, here("clean_data/clean_candy.csv"))
# load in cleaned data
library(here)
here::here()
clean_candy <- read_csv(here("clean_data/clean_candy.csv"))
# ordedred table of number of ratings
total_candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
summarise(number_of_ratings = n())
total_candy_ratings
# average age trick or treating
average_age_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
filter(trick_or_treating == "yes") %>%
summarise(average_age = mean(age))
average_age_trick_or_treating
# average age not trick or treating
average_age_not_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
filter(trick_or_treating == "no") %>%
summarise(average_age = mean(age))
average_age_not_trick_or_treating
# average age trick or treating
average_age_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "yes") %>%
summarise(average_age = mean(age))
average_age_trick_or_treating
# average age not trick or treating
average_age_not_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "no") %>%
summarise(average_age = mean(age))
average_age_not_trick_or_treating
# average age trick or treating
average_age_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "Yes") %>%
summarise(average_age = mean(age))
average_age_trick_or_treating
# average age not trick or treating
average_age_not_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "No") %>%
summarise(average_age = mean(age))
average_age_not_trick_or_treating
# average age trick or treating
average_age_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating_average_age == "Yes") %>%
summarise(average_age = mean(age))
# average age trick or treating
average_age_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "Yes") %>%
summarise(trick_or_treating_average_age = mean(age))
average_age_trick_or_treating
# average age not trick or treating
average_age_not_trick_or_treating <- clean_candy %>%
select(age, trick_or_treating) %>%
drop_na() %>%
filter(trick_or_treating == "No") %>%
summarise(not_trick_or_treating_average_age = mean(age))
average_age_not_trick_or_treating
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
summarise(number_of_ratings = n()) %>%
group_by(candy_name)
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name) %>%
summarise(number_of_ratings = n())
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name) %>%
summarise(number_of_ratings = n()) %>%
top_n()
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name) %>%
summarise(number_of_ratings = n())
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name, rating) %>%
summarise(number_of_ratings = n())
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
arrange(candy_name, rating) %>%
summarise(number_of_ratings = n())
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name, rating) %>%
summarise(number_of_ratings = n())
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(candy_name, rating) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
summarise(number_of_ratings = n()) %>%
group_by(rating, candy_name) %>%
arrange(desc(number_of_ratings))
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
#summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
#summarise(number_of_ratings = n()) %>%
arrange(desc(rating))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR")
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(sum(rating == "DESPAIR"))
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(count(rating == "DESPAIR"))
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR")
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(length(rating == "DESPAIR"))
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
summarise(despair = rating = "DESPAIR")
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
summarise(despair = rating == "DESPAIR")
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
summarise(rating, "DESPAIR")
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR")
starbusrt_despair
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating) %>%
summarise(number_of_ratings = n(candy_name)) %>%
arrange(desc(number_of_ratings))
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating, candy_name) %>%
summarise(number_of_ratings = n(candy_name)) %>%
arrange(desc(number_of_ratings))
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
summarise(number_of_ratings = n()) %>%\
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
summarise(number_of_ratings = n()) %>%
group_by(rating) %>%
arrange(desc(number_of_ratings))
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
group_by(rating) %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(n)
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(count(n))
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(number = count(n))
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR")
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
group_by(candy_name)
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
arrange(candy_name)
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR")
starbusrt_despair
starbusrt_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(n())
starbusrt_despair
starburst_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(n())
starburst_despair
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_ratings = n()) %>%
arrange(desc(number_of_ratings))
candy_ratings
candy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
candy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY")
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(candy_name, rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
joy_ratings
starburst_despair <- clean_candy %>%
select(candy_name, rating) %>%
filter(candy_name == "starburst") %>%
filter(rating == "DESPAIR") %>%
summarise(number_starburst_rated_despair = n())
starburst_despair
unique(candy_combined3$country)
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = max(rating))
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = max(n(rating)))
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = n())
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = max(count(rating)))
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = max(length(rating)))
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
arrange(desc(number_of_joy_ratings)) %>%
top_n(1)
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
top_n(1)
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
top_n(1)
meh_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "MEH") %>%
group_by(candy_name) %>%
summarise(number_of_meh_ratings = max(length(rating))) %>%
top_n(1)
despair_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "DESPAIR") %>%
group_by(candy_name) %>%
summarise(number_of_despair_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
meh_ratings
despair_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating)))
meh_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "MEH") %>%
group_by(candy_name) %>%
summarise(number_of_meh_ratings = max(length(rating))) %>%
top_n(1)
despair_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "DESPAIR") %>%
group_by(candy_name) %>%
summarise(number_of_despair_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
meh_ratings
despair_ratings
joy_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "JOY") %>%
group_by(candy_name) %>%
summarise(number_of_joy_ratings = max(length(rating))) %>%
top_n(1)
meh_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "MEH") %>%
group_by(candy_name) %>%
summarise(number_of_meh_ratings = max(length(rating))) %>%
top_n(1)
despair_ratings <- clean_candy %>%
select(candy_name, rating) %>%
drop_na() %>%
filter(rating == "DESPAIR") %>%
group_by(candy_name) %>%
summarise(number_of_despair_ratings = max(length(rating))) %>%
top_n(1)
joy_ratings
meh_ratings
despair_ratings
# load in cleaned data
library(here)
here::here()
clean_candy <- read_csv(here("clean_data/clean_candy.csv"))
# load in cleaned data
library(here)
#here::here()
clean_candy <- read_csv(here("clean_data/clean_candy.csv"))
# load in cleaned data
library(here)
here::here()
clean_candy <- read_csv(here("clean_data/clean_candy.csv"))
